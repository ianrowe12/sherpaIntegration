diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/generated/source/buildConfig/debug/com/sherpaonnxofflinetts/BuildConfig.java b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/generated/source/buildConfig/debug/com/sherpaonnxofflinetts/BuildConfig.java
new file mode 100644
index 0000000..97de03c
--- /dev/null
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/generated/source/buildConfig/debug/com/sherpaonnxofflinetts/BuildConfig.java
@@ -0,0 +1,10 @@
+/**
+ * Automatically generated file. DO NOT MODIFY
+ */
+package com.sherpaonnxofflinetts;
+
+public final class BuildConfig {
+  public static final boolean DEBUG = Boolean.parseBoolean("true");
+  public static final String LIBRARY_PACKAGE_NAME = "com.sherpaonnxofflinetts";
+  public static final String BUILD_TYPE = "debug";
+}
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/aapt_friendly_merged_manifests/debug/processDebugManifest/aapt/AndroidManifest.xml b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/aapt_friendly_merged_manifests/debug/processDebugManifest/aapt/AndroidManifest.xml
new file mode 100644
index 0000000..b9c2b3e
--- /dev/null
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/aapt_friendly_merged_manifests/debug/processDebugManifest/aapt/AndroidManifest.xml
@@ -0,0 +1,7 @@
+<?xml version="1.0" encoding="utf-8"?>
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+    package="com.sherpaonnxofflinetts" >
+
+    <uses-sdk android:minSdkVersion="24" />
+
+</manifest>
\ No newline at end of file
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/aapt_friendly_merged_manifests/debug/processDebugManifest/aapt/output-metadata.json b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/aapt_friendly_merged_manifests/debug/processDebugManifest/aapt/output-metadata.json
new file mode 100644
index 0000000..095075b
--- /dev/null
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/aapt_friendly_merged_manifests/debug/processDebugManifest/aapt/output-metadata.json
@@ -0,0 +1,18 @@
+{
+  "version": 3,
+  "artifactType": {
+    "type": "AAPT_FRIENDLY_MERGED_MANIFESTS",
+    "kind": "Directory"
+  },
+  "applicationId": "com.sherpaonnxofflinetts",
+  "variantName": "debug",
+  "elements": [
+    {
+      "type": "SINGLE",
+      "filters": [],
+      "attributes": [],
+      "outputFile": "AndroidManifest.xml"
+    }
+  ],
+  "elementType": "File"
+}
\ No newline at end of file
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/aar_metadata/debug/writeDebugAarMetadata/aar-metadata.properties b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/aar_metadata/debug/writeDebugAarMetadata/aar-metadata.properties
new file mode 100644
index 0000000..1211b1e
--- /dev/null
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/aar_metadata/debug/writeDebugAarMetadata/aar-metadata.properties
@@ -0,0 +1,6 @@
+aarFormatVersion=1.0
+aarMetadataVersion=1.0
+minCompileSdk=1
+minCompileSdkExtension=0
+minAndroidGradlePluginVersion=1.0.0
+coreLibraryDesugaringEnabled=false
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/annotation_processor_list/debug/javaPreCompileDebug/annotationProcessors.json b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/annotation_processor_list/debug/javaPreCompileDebug/annotationProcessors.json
new file mode 100644
index 0000000..9e26dfe
--- /dev/null
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/annotation_processor_list/debug/javaPreCompileDebug/annotationProcessors.json
@@ -0,0 +1 @@
+{}
\ No newline at end of file
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/compile_r_class_jar/debug/generateDebugRFile/R.jar b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/compile_r_class_jar/debug/generateDebugRFile/R.jar
new file mode 100644
index 0000000..4bc6b09
Binary files /dev/null and b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/compile_r_class_jar/debug/generateDebugRFile/R.jar differ
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/compile_symbol_list/debug/generateDebugRFile/R.txt b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/compile_symbol_list/debug/generateDebugRFile/R.txt
new file mode 100644
index 0000000..e69de29
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/incremental/debug/packageDebugResources/compile-file-map.properties b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/incremental/debug/packageDebugResources/compile-file-map.properties
new file mode 100644
index 0000000..d99457a
--- /dev/null
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/incremental/debug/packageDebugResources/compile-file-map.properties
@@ -0,0 +1 @@
+#Thu Oct 09 18:38:05 EDT 2025
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/incremental/debug/packageDebugResources/merger.xml b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/incremental/debug/packageDebugResources/merger.xml
new file mode 100644
index 0000000..0eec429
--- /dev/null
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/incremental/debug/packageDebugResources/merger.xml
@@ -0,0 +1,2 @@
+<?xml version="1.0" encoding="utf-8"?>
+<merger version="3"><dataSet aapt-namespace="http://schemas.android.com/apk/res-auto" config="main$Generated" generated="true" ignore_pattern="!.svn:!.git:!.ds_store:!*.scc:.*:&lt;dir>_*:!CVS:!thumbs.db:!picasa.ini:!*~"><source path="/Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/src/main/res"/></dataSet><dataSet aapt-namespace="http://schemas.android.com/apk/res-auto" config="main" generated-set="main$Generated" ignore_pattern="!.svn:!.git:!.ds_store:!*.scc:.*:&lt;dir>_*:!CVS:!thumbs.db:!picasa.ini:!*~"><source path="/Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/src/main/res"/></dataSet><dataSet aapt-namespace="http://schemas.android.com/apk/res-auto" config="debug$Generated" generated="true" ignore_pattern="!.svn:!.git:!.ds_store:!*.scc:.*:&lt;dir>_*:!CVS:!thumbs.db:!picasa.ini:!*~"><source path="/Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/src/debug/res"/></dataSet><dataSet aapt-namespace="http://schemas.android.com/apk/res-auto" config="debug" generated-set="debug$Generated" ignore_pattern="!.svn:!.git:!.ds_store:!*.scc:.*:&lt;dir>_*:!CVS:!thumbs.db:!picasa.ini:!*~"><source path="/Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/src/debug/res"/></dataSet><dataSet aapt-namespace="http://schemas.android.com/apk/res-auto" config="generated$Generated" generated="true" ignore_pattern="!.svn:!.git:!.ds_store:!*.scc:.*:&lt;dir>_*:!CVS:!thumbs.db:!picasa.ini:!*~"><source path="/Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/build/generated/res/resValues/debug"/></dataSet><dataSet aapt-namespace="http://schemas.android.com/apk/res-auto" config="generated" generated-set="generated$Generated" ignore_pattern="!.svn:!.git:!.ds_store:!*.scc:.*:&lt;dir>_*:!CVS:!thumbs.db:!picasa.ini:!*~"><source path="/Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/build/generated/res/resValues/debug"/></dataSet><mergedItems/></merger>
\ No newline at end of file
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/local_only_symbol_list/debug/parseDebugLocalResources/R-def.txt b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/local_only_symbol_list/debug/parseDebugLocalResources/R-def.txt
new file mode 100644
index 0000000..78ac5b8
--- /dev/null
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/local_only_symbol_list/debug/parseDebugLocalResources/R-def.txt
@@ -0,0 +1,2 @@
+R_DEF: Internal format may change without notice
+local
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/manifest_merge_blame_file/debug/processDebugManifest/manifest-merger-blame-debug-report.txt b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/manifest_merge_blame_file/debug/processDebugManifest/manifest-merger-blame-debug-report.txt
new file mode 100644
index 0000000..099a89b
--- /dev/null
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/manifest_merge_blame_file/debug/processDebugManifest/manifest-merger-blame-debug-report.txt
@@ -0,0 +1,7 @@
+1<?xml version="1.0" encoding="utf-8"?>
+2<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+3    package="com.sherpaonnxofflinetts" >
+4
+5    <uses-sdk android:minSdkVersion="24" />
+6
+7</manifest>
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/merged_manifest/debug/processDebugManifest/AndroidManifest.xml b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/merged_manifest/debug/processDebugManifest/AndroidManifest.xml
new file mode 100644
index 0000000..b9c2b3e
--- /dev/null
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/merged_manifest/debug/processDebugManifest/AndroidManifest.xml
@@ -0,0 +1,7 @@
+<?xml version="1.0" encoding="utf-8"?>
+<manifest xmlns:android="http://schemas.android.com/apk/res/android"
+    package="com.sherpaonnxofflinetts" >
+
+    <uses-sdk android:minSdkVersion="24" />
+
+</manifest>
\ No newline at end of file
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/navigation_json/debug/extractDeepLinksDebug/navigation.json b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/navigation_json/debug/extractDeepLinksDebug/navigation.json
new file mode 100644
index 0000000..0637a08
--- /dev/null
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/navigation_json/debug/extractDeepLinksDebug/navigation.json
@@ -0,0 +1 @@
+[]
\ No newline at end of file
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/nested_resources_validation_report/debug/generateDebugResources/nestedResourcesValidationReport.txt b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/nested_resources_validation_report/debug/generateDebugResources/nestedResourcesValidationReport.txt
new file mode 100644
index 0000000..08f4ebe
--- /dev/null
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/nested_resources_validation_report/debug/generateDebugResources/nestedResourcesValidationReport.txt
@@ -0,0 +1 @@
+0 Warning/Error
\ No newline at end of file
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/symbol_list_with_package_name/debug/generateDebugRFile/package-aware-r.txt b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/symbol_list_with_package_name/debug/generateDebugRFile/package-aware-r.txt
new file mode 100644
index 0000000..42caf81
--- /dev/null
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/symbol_list_with_package_name/debug/generateDebugRFile/package-aware-r.txt
@@ -0,0 +1 @@
+com.sherpaonnxofflinetts
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/kotlin/compileDebugKotlin/cacheable/dirty-sources.txt b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/kotlin/compileDebugKotlin/cacheable/dirty-sources.txt
new file mode 100644
index 0000000..c636213
--- /dev/null
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/kotlin/compileDebugKotlin/cacheable/dirty-sources.txt
@@ -0,0 +1,4 @@
+/Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/src/main/java/com/sherpaonnxofflinetts/TTSManagerModule.kt
+/Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/src/main/java/com/sherpaonnxofflinetts/TTSManagerPackage.kt
+/Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/src/main/java/com/sherpaonnxofflinetts/AudioPlayer.kt
+/Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/src/main/java/com/sherpaonnxofflinetts/AudioPlayerDelegate.kt
\ No newline at end of file
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/kotlin/compileDebugKotlin/local-state/build-history.bin b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/kotlin/compileDebugKotlin/local-state/build-history.bin
new file mode 100644
index 0000000..9f00f3e
Binary files /dev/null and b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/kotlin/compileDebugKotlin/local-state/build-history.bin differ
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/build/outputs/logs/manifest-merger-debug-report.txt b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/outputs/logs/manifest-merger-debug-report.txt
new file mode 100644
index 0000000..16a3434
--- /dev/null
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/android/build/outputs/logs/manifest-merger-debug-report.txt
@@ -0,0 +1,16 @@
+-- Merging decision tree log ---
+manifest
+ADDED from /Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/tmp/ProcessLibraryManifest/debug/tempAndroidManifest578961502773474407.xml:2:13-83
+INJECTED from /Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/tmp/ProcessLibraryManifest/debug/tempAndroidManifest578961502773474407.xml:2:13-83
+	package
+		INJECTED from /Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/tmp/ProcessLibraryManifest/debug/tempAndroidManifest578961502773474407.xml
+	xmlns:android
+		ADDED from /Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/tmp/ProcessLibraryManifest/debug/tempAndroidManifest578961502773474407.xml:2:23-81
+uses-sdk
+INJECTED from /Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/tmp/ProcessLibraryManifest/debug/tempAndroidManifest578961502773474407.xml reason: use-sdk injection requested
+INJECTED from /Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/tmp/ProcessLibraryManifest/debug/tempAndroidManifest578961502773474407.xml
+INJECTED from /Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/tmp/ProcessLibraryManifest/debug/tempAndroidManifest578961502773474407.xml
+	android:targetSdkVersion
+		INJECTED from /Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/tmp/ProcessLibraryManifest/debug/tempAndroidManifest578961502773474407.xml
+	android:minSdkVersion
+		INJECTED from /Users/ianrowe/git/sherpaUky/pocketpal-ai/node_modules/react-native-sherpa-onnx-offline-tts/android/build/intermediates/tmp/ProcessLibraryManifest/debug/tempAndroidManifest578961502773474407.xml
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/android/src/main/java/com/sherpaonnxofflinetts/TTSManagerModule.kt b/node_modules/react-native-sherpa-onnx-offline-tts/android/src/main/java/com/sherpaonnxofflinetts/TTSManagerModule.kt
index f5bdfca..33c47ea 100644
--- a/node_modules/react-native-sherpa-onnx-offline-tts/android/src/main/java/com/sherpaonnxofflinetts/TTSManagerModule.kt
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/android/src/main/java/com/sherpaonnxofflinetts/TTSManagerModule.kt
@@ -1,8 +1,28 @@
 package com.sherpaonnxofflinetts
 
-import com.facebook.react.bridge.*
+import android.media.AudioFormat
+import android.media.AudioRecord
+import android.media.MediaRecorder
+import android.util.Base64
+import android.util.Log
+import com.facebook.react.bridge.Arguments
+import com.facebook.react.bridge.Promise
+import com.facebook.react.bridge.ReactApplicationContext
+import com.facebook.react.bridge.ReactContextBaseJavaModule
+import com.facebook.react.bridge.ReactMethod
 import com.facebook.react.modules.core.DeviceEventManagerModule
-import com.k2fsa.sherpa.onnx.*
+import com.k2fsa.sherpa.onnx.AudioPlayer
+import com.k2fsa.sherpa.onnx.AudioPlayerDelegate
+import com.k2fsa.sherpa.onnx.FeatureConfig
+import com.k2fsa.sherpa.onnx.OfflineModelConfig
+import com.k2fsa.sherpa.onnx.OfflineRecognizer
+import com.k2fsa.sherpa.onnx.OfflineRecognizerConfig
+import com.k2fsa.sherpa.onnx.OfflineStream
+import com.k2fsa.sherpa.onnx.OfflineTransducerModelConfig
+import com.k2fsa.sherpa.onnx.OfflineTts
+import com.k2fsa.sherpa.onnx.OfflineTtsConfig
+import com.k2fsa.sherpa.onnx.OfflineTtsModelConfig
+import com.k2fsa.sherpa.onnx.OfflineTtsVitsModelConfig
 import android.content.res.AssetManager
 import kotlin.concurrent.thread
 import android.content.Context
@@ -10,6 +30,8 @@ import java.io.File
 import java.io.FileOutputStream
 import java.io.IOException
 import org.json.JSONObject
+import java.nio.ByteBuffer
+import java.nio.ByteOrder
 
 class ModelLoader(private val context: Context) {
 
@@ -81,8 +103,15 @@ class TTSManagerModule(private val reactContext: ReactApplicationContext) : Reac
     private var tts: OfflineTts? = null
     private var realTimeAudioPlayer: AudioPlayer? = null
     private val modelLoader = ModelLoader(reactContext)
+    private var recognizer: OfflineRecognizer? = null
+    private var sttStream: OfflineStream? = null
+    private var sttSampleRate: Int = 16000
+    private var audioRecorder: AudioRecord? = null
+    private var recordingThread: Thread? = null
+    @Volatile private var isRecording: Boolean = false
 
     override fun getName(): String {
+        Log.i("SherpaTTS", "TTSManagerModule initialized")
         return "TTSManager"
     }
 
@@ -130,6 +159,123 @@ class TTSManagerModule(private val reactContext: ReactApplicationContext) : Reac
         realTimeAudioPlayer?.start()
     }
 
+    @ReactMethod
+    fun initializeSTT(modelId: String) {
+        Log.i("SherpaTTS", "initializeSTT called with config: $modelId")
+        val jsonObject = JSONObject(modelId)
+        val encoder = jsonObject.getString("encoder")
+        val decoder = jsonObject.getString("decoder")
+        val joiner = jsonObject.getString("joiner")
+        val tokens = jsonObject.getString("tokens")
+        sttSampleRate = jsonObject.optInt("sampleRate", 16000)
+        Log.i("SherpaTTS", "Config -> encoder: $encoder, decoder: $decoder, joiner: $joiner, tokens: $tokens, sampleRate: $sttSampleRate")
+
+        val modelConfig = OfflineModelConfig(
+            transducer = OfflineTransducerModelConfig(
+                encoder = encoder,
+                decoder = decoder,
+                joiner = joiner,
+            ),
+            tokens = tokens,
+            numThreads = 1,
+            debug = true,
+            provider = "cpu",
+        )
+        val feat = FeatureConfig(sttSampleRate, 80)
+        val cfg = OfflineRecognizerConfig(
+            featConfig = feat,
+            modelConfig = modelConfig,
+            decodingMethod = "greedy_search",
+            maxActivePaths = 4,
+            hotwordsFile = "",
+            hotwordsScore = 1.5f,
+            ruleFsts = "",
+            ruleFars = "",
+            blankPenalty = 0.0f,
+        )
+        recognizer = OfflineRecognizer(reactContext.assets, cfg)
+        Log.i("SherpaTTS", "initializeSTT completed")
+    }
+
+    @ReactMethod
+    fun startRecognition() {
+        Log.i("SherpaTTS", "startRecognition called")
+        sttStream = recognizer?.createStream()
+        val minBuf = AudioRecord.getMinBufferSize(
+            sttSampleRate,
+            AudioFormat.CHANNEL_IN_MONO,
+            AudioFormat.ENCODING_PCM_16BIT,
+        )
+        audioRecorder = AudioRecord(
+            MediaRecorder.AudioSource.MIC,
+            sttSampleRate,
+            AudioFormat.CHANNEL_IN_MONO,
+            AudioFormat.ENCODING_PCM_16BIT,
+            minBuf,
+        )
+        audioRecorder?.startRecording()
+        isRecording = true
+        recordingThread = thread(start = true) {
+            Log.i("SherpaTTS", "recording thread started on ${Thread.currentThread().name}")
+            val buffer = ShortArray(1024)
+            while (isRecording) {
+                val read = audioRecorder?.read(buffer, 0, buffer.size) ?: 0
+                if (read > 0) {
+                    val floatSamples = FloatArray(read)
+                    for (i in 0 until read) {
+                        floatSamples[i] = buffer[i] / 32768.0f
+                    }
+                    sttStream?.acceptWaveform(floatSamples, sttSampleRate)
+                }
+            }
+            Log.i("SherpaTTS", "recording thread exiting")
+        }
+    }
+
+    @ReactMethod
+    fun stopRecognition(promise: Promise) {
+        Log.i("SherpaTTS", "stopRecognition called")
+        isRecording = false
+        recordingThread?.join()
+        recordingThread = null
+        audioRecorder?.stop()
+        audioRecorder?.release()
+        audioRecorder = null
+
+        val stream = sttStream
+        val rec = recognizer
+        if (stream == null || rec == null) {
+            Log.w("SherpaTTS", "stopRecognition: recognizer not ready")
+            promise.reject("NOT_READY", "Recognizer not ready")
+            return
+        }
+        try {
+            rec.decode(stream)
+            val result = rec.getResult(stream)
+            stream.release()
+            sttStream = null
+            Log.i("SherpaTTS", "stopRecognition result: ${result.text}")
+            promise.resolve(result.text)
+        } catch (error: Throwable) {
+            Log.e("SherpaTTS", "Error during stopRecognition", error)
+            promise.reject("STOP_ERROR", error)
+        }
+    }
+
+    @ReactMethod
+    fun deinitializeSTT() {
+        Log.i("SherpaTTS", "deinitializeSTT called")
+        isRecording = false
+        recordingThread?.join()
+        recordingThread = null
+        audioRecorder?.stop()
+        audioRecorder?.release()
+        audioRecorder = null
+        recognizer?.release()
+        recognizer = null
+        sttStream = null
+    }
+
     // Generate and Play method exposed to React Native
     @ReactMethod
     fun generateAndPlay(text: String, sid: Int, speed: Double, promise: Promise) {
@@ -159,6 +305,7 @@ class TTSManagerModule(private val reactContext: ReactApplicationContext) : Reac
         realTimeAudioPlayer = null
         tts?.release()
         tts = null
+        deinitializeSTT()
     }
 
     // Helper: split text into manageable chunks similar to iOS logic
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/ios/SherpaOnnxOfflineTts.mm b/node_modules/react-native-sherpa-onnx-offline-tts/ios/SherpaOnnxOfflineTts.mm
index ae8e644..4ada895 100644
--- a/node_modules/react-native-sherpa-onnx-offline-tts/ios/SherpaOnnxOfflineTts.mm
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/ios/SherpaOnnxOfflineTts.mm
@@ -12,6 +12,15 @@ @interface RCT_EXTERN_MODULE(TTSManager, NSObject)
                   resolver:(RCTPromiseResolveBlock)resolver 
                   rejecter:(RCTPromiseRejectBlock)rejecter)
 
+RCT_EXTERN_METHOD(initializeSTT:(NSString *)modelId)
+
+RCT_EXTERN_METHOD(startRecognition)
+
+RCT_EXTERN_METHOD(stopRecognition:(RCTPromiseResolveBlock)resolver
+                  rejecter:(RCTPromiseRejectBlock)rejecter)
+
+RCT_EXTERN_METHOD(deinitializeSTT)
+
 // Deinitialize method exposed to React Native
 RCT_EXTERN_METHOD(deinitialize)
 
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/ios/SherpaOnnxOfflineTts.swift b/node_modules/react-native-sherpa-onnx-offline-tts/ios/SherpaOnnxOfflineTts.swift
index 4072cc9..6ede48d 100644
--- a/node_modules/react-native-sherpa-onnx-offline-tts/ios/SherpaOnnxOfflineTts.swift
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/ios/SherpaOnnxOfflineTts.swift
@@ -13,10 +13,29 @@ protocol AudioPlayerDelegate: AnyObject {
 class TTSManager: RCTEventEmitter, AudioPlayerDelegate {
     private var tts: SherpaOnnxOfflineTtsWrapper?
     private var realTimeAudioPlayer: AudioPlayer?
+    private var recognizer: SherpaOnnxRecognizer?
+    private var sttSampleRate: Int = 16000
+    private var audioEngine: AVAudioEngine?
+    private let decodeQueue = DispatchQueue(label: "com.pocketpal.stt.decode", qos: .userInitiated)
+    private var isDecoding: Bool = false
+    private var startPressTime: Date?
+    private var firstTapTime: Date?
+    private var firstPartialTime: Date?
+    private var hasLoggedFirstTap: Bool = false
+    private var hasLoggedFirstPartial: Bool = false
     
     override init() {
         super.init()
-        // Optionally, initialize AudioPlayer here if needed
+        let exposedMethods = [
+            "initializeTTS",
+            "generateAndPlay",
+            "deinitialize",
+            "initializeSTT",
+            "startRecognition",
+            "stopRecognition",
+            "deinitializeSTT"
+        ]
+        print("[SherpaTTS][iOS] Module loaded. Methods exposed: \(exposedMethods)")
     }
     
     // Required for RCTEventEmitter
@@ -24,6 +43,262 @@ class TTSManager: RCTEventEmitter, AudioPlayerDelegate {
         return true
     }
     
+    @objc(initializeSTT:)
+    func initializeSTT(_ modelId: String) {
+        print("[SherpaTTS][iOS] initializeSTT called with config: \(modelId)")
+        guard
+            let data = modelId.data(using: .utf8),
+            let json = try? JSONSerialization.jsonObject(with: data) as? [String: Any]
+        else {
+            print("[SherpaTTS][iOS] failed to parse config JSON")
+            return
+        }
+
+        let encoder = json["encoder"] as? String ?? ""
+        let decoder = json["decoder"] as? String ?? ""
+        let joiner = json["joiner"] as? String ?? ""
+        let tokens = json["tokens"] as? String ?? ""
+        sttSampleRate = json["sampleRate"] as? Int ?? 16000
+        let feat = sherpaOnnxFeatureConfig(sampleRate: sttSampleRate, featureDim: 80)
+        var model = sherpaOnnxOnlineModelConfig(
+            tokens: tokens,
+            transducer: sherpaOnnxOnlineTransducerModelConfig(
+                encoder: encoder,
+                decoder: decoder,
+                joiner: joiner
+            ),
+            numThreads: 1,
+            provider: "cpu",
+            debug: 1,
+            modelType: "zipformer"
+        )
+        var cfg = sherpaOnnxOnlineRecognizerConfig(
+            featConfig: feat,
+            modelConfig: model,
+            enableEndpoint: true,
+            rule1MinTrailingSilence: 1.0,
+            rule2MinTrailingSilence: 0.5,
+            rule3MinUtteranceLength: 10,
+            decodingMethod: "greedy_search",
+            maxActivePaths: 4
+        )
+        recognizer = SherpaOnnxRecognizer(config: &cfg)
+        print("[SherpaTTS][iOS] initializeSTT completed")
+
+        // Pre-warm audio session to reduce cold-start latency
+        let session = AVAudioSession.sharedInstance()
+        do {
+            try session.setCategory(.playAndRecord, mode: .measurement, options: [.duckOthers, .defaultToSpeaker])
+            try session.setPreferredSampleRate(Double(sttSampleRate))
+            try session.setPreferredInputNumberOfChannels(1)
+            try session.setPreferredIOBufferDuration(0.01)
+            try session.setActive(true, options: .notifyOthersOnDeactivation)
+            try session.setActive(false, options: .notifyOthersOnDeactivation)
+        } catch {
+            print("[SherpaTTS][iOS] Pre-warm session failed: \(error)")
+        }
+    }
+
+    @objc func startRecognition() {
+        print("[SherpaTTS][iOS] startRecognition called")
+        if Thread.isMainThread {
+            startRecognitionOnMain()
+        } else {
+            DispatchQueue.main.sync {
+                startRecognitionOnMain()
+            }
+        }
+    }
+
+    private func startRecognitionOnMain() {
+        audioEngine = AVAudioEngine()
+        
+        guard
+            let engine = audioEngine,
+            recognizer != nil
+        else {
+            print("[SherpaTTS][iOS] recognizer not ready")
+            return
+        }
+        
+        do {
+            let session = AVAudioSession.sharedInstance()
+            try session.setCategory(.playAndRecord, mode: .measurement, options: [.duckOthers, .defaultToSpeaker])
+            try session.setPreferredSampleRate(Double(sttSampleRate))
+            try session.setPreferredInputNumberOfChannels(1)
+            try session.setPreferredIOBufferDuration(0.01)
+            if let builtIn = session.availableInputs?.first(where: { $0.portType == .builtInMic }) {
+                try? session.setPreferredInput(builtIn)
+            }
+            try session.setActive(true, options: .notifyOthersOnDeactivation)
+            print("[SherpaTTS][iOS] AVAudioSession configured. sampleRate=\(session.sampleRate), ioBuffer=\(session.ioBufferDuration)")
+        } catch {
+            print("[SherpaTTS][iOS] Failed to set up AVAudioSession: \(error)")
+        }
+        
+        let input = engine.inputNode
+        let inputFormat = input.outputFormat(forBus: 0)
+        guard let targetFormat = AVAudioFormat(
+            commonFormat: .pcmFormatFloat32,
+            sampleRate: Double(sttSampleRate),
+            channels: 1,
+            interleaved: false
+        ) else {
+            print("[SherpaTTS][iOS] Failed to create target audio format")
+            return
+        }
+
+        guard let converter = AVAudioConverter(from: inputFormat, to: targetFormat) else {
+            print("[SherpaTTS][iOS] Failed to create converter HW->16k from \(inputFormat) to \(targetFormat)")
+            return
+        }
+
+        input.removeTap(onBus: 0)
+
+        // Telemetry: mark user press time
+        startPressTime = Date()
+        hasLoggedFirstTap = false
+        hasLoggedFirstPartial = false
+        firstTapTime = nil
+        firstPartialTime = nil
+
+        // Install tap with hardware input format; convert to 16 kHz inside using reusable converter
+        input.installTap(onBus: 0, bufferSize: 256, format: nil) { [weak self] buffer, _ in
+            guard let self = self, let rec = self.recognizer else { return }
+
+            if !self.hasLoggedFirstTap {
+                self.hasLoggedFirstTap = true
+                self.firstTapTime = Date()
+                if let start = self.startPressTime, let tap = self.firstTapTime {
+                    print("[SherpaTTS][iOS] First tap delta: \(tap.timeIntervalSince(start)) s")
+                }
+            }
+
+            // Downsample from HW rate (e.g., 48 kHz) to 16 kHz using the reusable converter
+            let inFrames = Int(buffer.frameLength)
+            guard inFrames > 0 else { return }
+
+            let ratio = targetFormat.sampleRate / buffer.format.sampleRate
+            let estimatedFrames = max(1, Int(Double(inFrames) * ratio) + 8)
+            guard let out = AVAudioPCMBuffer(
+                pcmFormat: targetFormat,
+                frameCapacity: AVAudioFrameCount(estimatedFrames)
+            ) else { return }
+
+            var error: NSError?
+            converter.convert(to: out, error: &error) { _, outStatus in
+                outStatus.pointee = .haveData
+                return buffer
+            }
+            if let error = error {
+                print("[SherpaTTS][iOS] Conversion error: \(error)")
+                return
+            }
+
+            let outFrames = Int(out.frameLength)
+            guard outFrames > 0, let ch = out.floatChannelData?[0] else { return }
+            let samples = Array(UnsafeBufferPointer(start: ch, count: outFrames))
+            rec.acceptWaveform(samples: samples, sampleRate: self.sttSampleRate)
+
+            // Offload decoding to worker queue to keep audio callback light
+            self.processDecoding()
+        }
+
+        engine.prepare()
+        do {
+            try engine.start()
+            print("[SherpaTTS][iOS] audio engine started")
+        } catch {
+            print("[SherpaTTS][iOS] Failed to start audio engine: \(error)")
+        }
+    }
+
+    @objc func stopRecognition(
+        _ resolver: @escaping RCTPromiseResolveBlock,
+        rejecter: @escaping RCTPromiseRejectBlock
+    ) {
+        print("[SherpaTTS][iOS] stopRecognition called")
+        if Thread.isMainThread {
+            stopRecognitionOnMain(resolver: resolver, rejecter: rejecter)
+        } else {
+            DispatchQueue.main.sync {
+                stopRecognitionOnMain(resolver: resolver, rejecter: rejecter)
+            }
+        }
+    }
+
+    private func stopRecognitionOnMain(
+        resolver: @escaping RCTPromiseResolveBlock,
+        rejecter: @escaping RCTPromiseRejectBlock
+    ) {
+        audioEngine?.inputNode.removeTap(onBus: 0)
+        audioEngine?.stop()
+        audioEngine = nil
+        
+        let session = AVAudioSession.sharedInstance()
+        try? session.setActive(false, options: [.notifyOthersOnDeactivation])
+
+
+        guard let rec = recognizer else {
+            print("[SherpaTTS][iOS] recognizer not ready in stopRecognition")
+            rejecter("NOT_READY", "Recognizer not ready", nil)
+            return
+        }
+        
+        rec.inputFinished()
+        // Flush any pending decode work
+        decodeQueue.sync {
+            while rec.isReady() { rec.decode() }
+        }
+        let result = rec.getResult().text
+        print("[SherpaTTS][iOS] stopRecognition returning text: \(result)")
+        resolver(result)
+    }
+
+    @objc func deinitializeSTT() {
+        print("[SherpaTTS][iOS] deinitializeSTT called")
+        if Thread.isMainThread {
+            deinitializeSTTOnMain()
+        } else {
+            DispatchQueue.main.sync {
+                deinitializeSTTOnMain()
+            }
+        }
+    }
+
+    private func deinitializeSTTOnMain() {
+        audioEngine?.stop()
+        audioEngine = nil
+        let session = AVAudioSession.sharedInstance()
+        try? session.setActive(false, options: [.notifyOthersOnDeactivation])
+        recognizer = nil
+    }
+
+    private func processDecoding() {
+        guard let rec = self.recognizer else { return }
+        if isDecoding { return }
+        isDecoding = true
+        decodeQueue.async { [weak self] in
+            guard let self = self, let rec = self.recognizer else { return }
+            while rec.isReady() { rec.decode() }
+            let text = rec.getResult().text
+            if !text.isEmpty && !self.hasLoggedFirstPartial {
+                self.hasLoggedFirstPartial = true
+                self.firstPartialTime = Date()
+                if let tap = self.firstTapTime, let first = self.firstPartialTime {
+                    print("[SherpaTTS][iOS] First partial delta: \(first.timeIntervalSince(tap)) s")
+                }
+            }
+            if rec.isEndpoint() {
+                if !text.isEmpty {
+                    print("[SherpaTTS][iOS] endpoint: \(text)")
+                }
+                rec.reset()
+            }
+            self.isDecoding = false
+        }
+    }
+    
     // Specify the events that can be emitted
     override func supportedEvents() -> [String]! {
         return ["VolumeUpdate"]
@@ -115,8 +390,17 @@ class TTSManager: RCTEventEmitter, AudioPlayerDelegate {
     
     // Clean up resources
     @objc func deinitialize() {
+        print("[SherpaTTS][iOS] deinitialize called")
+        DispatchQueue.main.async {
+            self.deinitializeOnMain()
+        }
+    }
+
+    private func deinitializeOnMain() {
         self.realTimeAudioPlayer?.stop()
         self.realTimeAudioPlayer = nil
+        self.tts = nil
+        deinitializeSTT()
     }
     
     // MARK: - AudioPlayerDelegate Method
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/lib/commonjs/index.js b/node_modules/react-native-sherpa-onnx-offline-tts/lib/commonjs/index.js
index cb69b16..4ee6adc 100644
--- a/node_modules/react-native-sherpa-onnx-offline-tts/lib/commonjs/index.js
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/lib/commonjs/index.js
@@ -7,9 +7,18 @@ exports.default = void 0;
 var _reactNative = require("react-native");
 // TTSManager.js
 
+const moduleRef = _reactNative.NativeModules;
 const {
   TTSManager
-} = _reactNative.NativeModules;
+} = moduleRef;
+console.log('[SherpaJS] Native module keys', Object.keys(TTSManager !== null && TTSManager !== void 0 ? TTSManager : {}));
+if (TTSManager) {
+  ['initializeSTT', 'startRecognition', 'stopRecognition', 'deinitializeSTT'].forEach(fn => {
+    var _TTSManager$fn;
+
+    console.log(`[SherpaJS] ${fn} available?`, typeof ((_TTSManager$fn = TTSManager[fn]) !== null && _TTSManager$fn !== void 0 ? _TTSManager$fn : undefined));
+  });
+}
 const ttsManagerEmitter = new _reactNative.NativeEventEmitter(TTSManager);
 const initialize = modelId => {
   TTSManager.initializeTTS(22050, 1, modelId);
@@ -25,6 +34,16 @@ const generateAndPlay = async (text, sid, speed) => {
 const deinitialize = () => {
   TTSManager.deinitialize();
 };
+const enforcePlayback = () => {
+  var _TTSManager$enforcePla;
+
+  (_TTSManager$enforcePla = TTSManager.enforcePlayback) === null || _TTSManager$enforcePla === void 0 ? void 0 : _TTSManager$enforcePla.call(TTSManager);
+};
+const stop = () => {
+  var _TTSManager$stop;
+
+  (_TTSManager$stop = TTSManager.stop) === null || _TTSManager$stop === void 0 ? void 0 : _TTSManager$stop.call(TTSManager);
+};
 const addVolumeListener = callback => {
   const subscription = ttsManagerEmitter.addListener('VolumeUpdate', event => {
     const {
@@ -34,10 +53,53 @@ const addVolumeListener = callback => {
   });
   return subscription;
 };
+const initializeSTT = config => {
+  var _TTSManager$initializ;
+
+  console.log('[SherpaJS] initializeSTT invoked');
+  if (!(TTSManager !== null && TTSManager !== void 0 && TTSManager.initializeSTT)) {
+    console.warn('[SherpaJS] initializeSTT unavailable');
+    return;
+  }
+  (_TTSManager$initializ = TTSManager.initializeSTT) === null || _TTSManager$initializ === void 0 ? void 0 : _TTSManager$initializ.call(TTSManager, config);
+};
+const startRecognition = () => {
+  var _TTSManager$startReco;
+
+  console.log('[SherpaJS] startRecognition invoked');
+  (_TTSManager$startReco = TTSManager.startRecognition) === null || _TTSManager$startReco === void 0 ? void 0 : _TTSManager$startReco.call(TTSManager);
+};
+const stopRecognition = async () => {
+  console.log('[SherpaJS] stopRecognition invoked');
+  if (!TTSManager.stopRecognition) {
+    console.warn('[SherpaJS] stopRecognition unavailable');
+    return '';
+  }
+  try {
+    const text = await TTSManager.stopRecognition();
+    console.log('[SherpaJS] stopRecognition result', text);
+    return text !== null && text !== void 0 ? text : '';
+  } catch (err) {
+    console.error('Sherpa stopRecognition failed', err);
+    throw err;
+  }
+};
+const deinitializeSTT = () => {
+  var _TTSManager$deinitial;
+
+  console.log('[SherpaJS] deinitializeSTT invoked');
+  (_TTSManager$deinitial = TTSManager.deinitializeSTT) === null || _TTSManager$deinitial === void 0 ? void 0 : _TTSManager$deinitial.call(TTSManager);
+};
 var _default = exports.default = {
   initialize,
   generateAndPlay,
   deinitialize,
-  addVolumeListener
+  enforcePlayback,
+  addVolumeListener,
+  stop,
+  initializeSTT,
+  startRecognition,
+  stopRecognition,
+  deinitializeSTT
 };
 //# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/lib/module/index.js b/node_modules/react-native-sherpa-onnx-offline-tts/lib/module/index.js
index 02cc578..3cc1e0d 100644
--- a/node_modules/react-native-sherpa-onnx-offline-tts/lib/module/index.js
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/lib/module/index.js
@@ -3,9 +3,16 @@
 // TTSManager.js
 
 import { NativeModules, NativeEventEmitter } from 'react-native';
+const moduleRef = NativeModules;
 const {
   TTSManager
-} = NativeModules;
+} = moduleRef;
+console.log('[SherpaJS] Native module keys', Object.keys(TTSManager ?? {}));
+if (TTSManager) {
+  ['initializeSTT', 'startRecognition', 'stopRecognition', 'deinitializeSTT'].forEach(fn => {
+    console.log(`[SherpaJS] ${fn} available?`, typeof TTSManager[fn]);
+  });
+}
 const ttsManagerEmitter = new NativeEventEmitter(TTSManager);
 const initialize = modelId => {
   TTSManager.initializeTTS(22050, 1, modelId);
@@ -21,6 +28,12 @@ const generateAndPlay = async (text, sid, speed) => {
 const deinitialize = () => {
   TTSManager.deinitialize();
 };
+const enforcePlayback = () => {
+  TTSManager.enforcePlayback?.();
+};
+const stop = () => {
+  TTSManager.stop?.();
+};
 const addVolumeListener = callback => {
   const subscription = ttsManagerEmitter.addListener('VolumeUpdate', event => {
     const {
@@ -30,10 +43,47 @@ const addVolumeListener = callback => {
   });
   return subscription;
 };
+const initializeSTT = config => {
+  console.log('[SherpaJS] initializeSTT invoked');
+  if (!TTSManager?.initializeSTT) {
+    console.warn('[SherpaJS] initializeSTT unavailable');
+    return;
+  }
+  TTSManager.initializeSTT(config);
+};
+const startRecognition = () => {
+  console.log('[SherpaJS] startRecognition invoked');
+  TTSManager.startRecognition?.();
+};
+const stopRecognition = async () => {
+  console.log('[SherpaJS] stopRecognition invoked');
+  if (!TTSManager.stopRecognition) {
+    console.warn('[SherpaJS] stopRecognition unavailable');
+    return '';
+  }
+  try {
+    const text = await TTSManager.stopRecognition();
+    console.log('[SherpaJS] stopRecognition result', text);
+    return text ?? '';
+  } catch (err) {
+    console.error('Sherpa stopRecognition failed', err);
+    throw err;
+  }
+};
+const deinitializeSTT = () => {
+  console.log('[SherpaJS] deinitializeSTT invoked');
+  TTSManager.deinitializeSTT?.();
+};
 export default {
   initialize,
   generateAndPlay,
   deinitialize,
-  addVolumeListener
+  enforcePlayback,
+  addVolumeListener,
+  stop,
+  initializeSTT,
+  startRecognition,
+  stopRecognition,
+  deinitializeSTT
 };
 //# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/react-native-sherpa-onnx-offline-tts.podspec b/node_modules/react-native-sherpa-onnx-offline-tts/react-native-sherpa-onnx-offline-tts.podspec
index 98297ed..3a52370 100644
--- a/node_modules/react-native-sherpa-onnx-offline-tts/react-native-sherpa-onnx-offline-tts.podspec
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/react-native-sherpa-onnx-offline-tts.podspec
@@ -23,6 +23,11 @@ Pod::Spec.new do |s|
     'build-ios/sherpa-onnx.xcframework'
   ]
 
+  # Ensure static library inside XCFramework is linked
+  s.vendored_libraries = [
+    'build-ios/sherpa-onnx.xcframework/ios-arm64/sherpa-onnx.a'
+  ]
+
   # Include header search paths if needed for the framework headers
   s.xcconfig = {
     'HEADER_SEARCH_PATHS' => '$(PODS_TARGET_SRCROOT)/build-ios/sherpa-onnx.xcframework/Headers'
diff --git a/node_modules/react-native-sherpa-onnx-offline-tts/src/index.tsx b/node_modules/react-native-sherpa-onnx-offline-tts/src/index.tsx
index ee4f666..cc66d4f 100644
--- a/node_modules/react-native-sherpa-onnx-offline-tts/src/index.tsx
+++ b/node_modules/react-native-sherpa-onnx-offline-tts/src/index.tsx
@@ -2,7 +2,16 @@
 
 import { NativeModules, NativeEventEmitter } from 'react-native';
 
-const { TTSManager } = NativeModules;
+const moduleRef = NativeModules as { TTSManager: any };
+const { TTSManager } = moduleRef;
+
+console.log('[SherpaJS] Native module keys', Object.keys(TTSManager ?? {}));
+if (TTSManager) {
+  ['initializeSTT', 'startRecognition', 'stopRecognition', 'deinitializeSTT'].forEach(fn => {
+    console.log(`[SherpaJS] ${fn} available?`, typeof TTSManager[fn]);
+  });
+}
+
 const ttsManagerEmitter = new NativeEventEmitter(TTSManager);
 
 const initialize = (modelId: string) => {
@@ -22,6 +31,14 @@ const deinitialize = () => {
   TTSManager.deinitialize();
 };
 
+const enforcePlayback = () => {
+  TTSManager.enforcePlayback?.();
+};
+
+const stop = () => {
+  TTSManager.stop?.();
+};
+
 const addVolumeListener = (callback: any) => {
   const subscription = ttsManagerEmitter.addListener(
     'VolumeUpdate',
@@ -33,9 +50,50 @@ const addVolumeListener = (callback: any) => {
   return subscription;
 };
 
+const initializeSTT = (config: string) => {
+  console.log('[SherpaJS] initializeSTT invoked');
+  if (!TTSManager?.initializeSTT) {
+    console.warn('[SherpaJS] initializeSTT unavailable');
+    return;
+  }
+  TTSManager.initializeSTT(config);
+};
+
+const startRecognition = () => {
+  console.log('[SherpaJS] startRecognition invoked');
+  TTSManager.startRecognition?.();
+};
+
+const stopRecognition = async () => {
+  console.log('[SherpaJS] stopRecognition invoked');
+  if (!TTSManager.stopRecognition) {
+    console.warn('[SherpaJS] stopRecognition unavailable');
+    return '';
+  }
+  try {
+    const text = await TTSManager.stopRecognition();
+    console.log('[SherpaJS] stopRecognition result', text);
+    return text ?? '';
+  } catch (err) {
+    console.error('Sherpa stopRecognition failed', err);
+    throw err;
+  }
+};
+
+const deinitializeSTT = () => {
+  console.log('[SherpaJS] deinitializeSTT invoked');
+  TTSManager.deinitializeSTT?.();
+};
+
 export default {
   initialize,
   generateAndPlay,
   deinitialize,
+  enforcePlayback,
   addVolumeListener,
+  stop,
+  initializeSTT,
+  startRecognition,
+  stopRecognition,
+  deinitializeSTT,
 };
